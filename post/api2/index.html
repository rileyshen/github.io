<!DOCTYPE html>
<html  dir="ltr" lang="en" data-theme=""><head>
    <title> Riley Shen | Introduction to the Fetch API and Promise </title>

    
    <meta charset="utf-8"><meta name="generator" content="Hugo 0.83.1" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="description"
        content="
Riley likes to push her limits 
and always keep learning new things. 
She shares her weekly learnings 
because &#34;if you can&#39;t explain it simply,
it means you didn&#39;t understand it well enough&#34;.
">

    
    
    
    <link rel="stylesheet" href="/css/main.min.5e496fea98063f0f4e4bec6d20c35f8f071dc78c6385e9ec1041fc8419946fd6.css" integrity="sha256-Xklv6pgGPw9OS&#43;xtIMNfjwcdx4xjhensEEH8hBmUb9Y="
        crossorigin="anonymous" type="text/css">
    
    
    <link rel="stylesheet" href="/css/markupHighlight.min.f798cbda9aaa38f89eb38be6414bd082cfd71a6780375cbf67b6d2fb2b96491e.css"
        integrity="sha256-95jL2pqqOPies4vmQUvQgs/XGmeAN1y/Z7bS&#43;yuWSR4=" crossorigin="anonymous" type="text/css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
        integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA=="
        crossorigin="anonymous" />

    
    <link rel="shortcut icon" href="/favicons/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">

    <link rel="canonical" href="/post/api2/">

    <link rel="preconnect" href="https://fonts.gstatic.com">



    
    
    
    
    <script type="text/javascript" src="/js/anatole-header.min.0c05c0a90d28c968a1cad4fb31abd0b8e1264e788ccefed022ae1d3b6f627514.js"
        integrity="sha256-DAXAqQ0oyWihytT7MavQuOEmTniMzv7QIq4dO29idRQ=" crossorigin="anonymous"></script>


    
    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://rileyshen.github.io/images/site-feature-image.png"/>

<meta name="twitter:title" content="Introduction to the Fetch API and Promise"/>
<meta name="twitter:description" content="In this learning note, we’ll learn what the new Fetch API looks like, what problems it solves, and the most practical way to retrieve remote data inside your web page using the fetch() function 有一贴 api 小白技术贴，promise 和 fetch  Promise let firstFunction = function () { return new Promise(function (resolve, reject) { resolve(&#34;Hava a nice day&#34;); }); }; console."/>


    
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,500;1,600;1,700&display=swap"
        rel="stylesheet">

</head><body><div class="sidebar animated fadeInDown ">
    <div class="logo-title">
        <div class="title">
            <img src="/images/profileS.jpg" alt="profile picture">
            <h3 title=""><a href="/">I&#39;m Riley Shen</a></h3>
            <div class="description">
                <p><br>Riley likes to push her limits <br>and always keep learning new things. <br>She shares her weekly learnings <br>because "if you can't explain it simply,<br>it means you didn't understand it well enough".<br></p>
            </div>
        </div>
    </div>
    <ul class="social-links">
        
            <li>
                <a href="mailto:ripple.shen31@gmail.com" rel="me" aria-label="e-mail">
                    <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="https://github.com/RileyCode-hash" rel="me" aria-label="GitHub">
                    <i class="fab fa-github fa-2x" aria-hidden="true"></i>
                </a>
            </li>
        
    </ul>
    <div class="footer">
        <div class="by_farbox">&copy;  Riley Shen 2021 </div>
    </div>
</div>
<div class="main">
    <div class="page-top  animated fadeInDown ">
    <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
    </a>
    <ul class="nav" id="navMenu">
        
        
            
            <li><a 
                   href="/"
                        
                   title="">Home</a></li>
        
            
            <li><a 
                   href="/post/"
                        
                   title="">Posts</a></li>
        
            
            <li><a 
                   href="/about/"
                        
                   title="">About Me</a></li>
        
            
            <li><a 
                   href="/contact/"
                        
                   title="">Contact</a></li>
        
        
        
    </ul>
</div>

    <div class="autopagerize_page_element">
        <div class="content">
<div class="post  animated fadeInDown ">
    <div class="post-content">
        
        <div class="post-title">
            <h2>Introduction to the Fetch API and Promise</h2>
            
            <div class="info">
                <em class="fas fa-calendar-day"></em>
                <span class="date">
                    Tue, Jun 9, 2020
                    </span>
                <em class="fas fa-stopwatch"></em>
                <span class="reading-time">2-minute read</span>
            </div>
            
        </div>

        <h4 id="in-this-learning-note-well-learn-what-the-new-fetch-api-looks-like-what-problems-it-solves-and-the-most-practical-way-to-retrieve-remote-data-inside-your-web-page-using-the-fetch-function">In this learning note, we’ll learn what the new Fetch API looks like, what problems it solves, and the most practical way to retrieve remote data inside your web page using the fetch() function</h4>
<h4 id="有一贴-api-小白技术贴promise-和-fetch">有一贴 api 小白技术贴，promise 和 fetch</h4>
<hr>
<h2 id="_promise_"><em><code>Promise</code></em></h2>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">firstFunction</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">resolve</span><span class="p">(</span><span class="s2">&#34;Hava a nice day&#34;</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">firstFunction</span><span class="p">());</span>
</code></pre></div><p><code>try console.log to check what happen in website</code>
continue&hellip;</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">firstFunction</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">resolve</span><span class="p">(</span><span class="s2">&#34;Hava a nice day&#34;</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">secondFuntion</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">dataFromFirstFunction</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">resolve</span><span class="p">(</span><span class="nx">dataFromFirstFunction</span> <span class="o">+</span> <span class="s2">&#34;yoyo&#34;</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">secondFuntion</span><span class="p">());</span>
</code></pre></div><p>shows:
[[PromiseStatus]]: &ldquo;resolved&rdquo;
[[PromiseValue]]: &ldquo;undefinedcrazy&rdquo;</p>
<hr>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">firstFunction</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">resolve</span><span class="p">(</span><span class="s2">&#34;Hava a nice day&#34;</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">secondFuntion</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">dataFromFirstFunction</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">resolve</span><span class="p">(</span><span class="nx">dataFromFirstFunction</span> <span class="o">+</span> <span class="s2">&#34;yoyo&#34;</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="nx">firstFunction</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">secondFunction</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>
<span class="p">});</span>
</code></pre></div><blockquote>
<p>[[PromiseStatus]]: &ldquo;resolved&rdquo;
[[PromiseValue]]: &ldquo;Hava a nice day yoyo&rdquo;</p>
</blockquote>
<p><code>modify this code:我们需要打出来</code></p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">firstFunction</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">secondFunction</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// data:dataFromFirstFunction + &#39;yoyo&#39;
</span><span class="c1"></span>  <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div><p><code>shows get a string:</code></p>
<p><code>Hava a nice day yoyo</code></p>
<hr>
<p><code>modify this code:</code></p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">firstFunction</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">secondFunction</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// data:dataFromFirstFunction + &#39;yoyo&#39;
</span><span class="c1"></span>  <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>

<span class="c1">//shows a alert from chrome
</span></code></pre></div><hr>
<hr>
<h2 id="_fetch_"><em><code>Fetch</code></em></h2>
<p><code>now coming to the Fetch</code></p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">fetch(&#39;https://.....&#39;)

console.log((fetch(&#39;https://.....&#39;)))
</code></pre></div><p><code>above shows imformation from the web json.</code></p>
<p><strong>now delete console.log, continue this code</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">fetch</span><span class="p">(</span><span class="s2">&#34;https://.....&#34;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// still show all the information like previous one, but we need to let &#34;fetch&#34; know it is a json file.
</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://.....&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
 <span class="p">})</span>

 <span class="c1">// add .json
</span><span class="c1"></span> <span class="c1">// now the chrome show a little bit more
</span><span class="c1"></span>
 <span class="nb">Promise</span> <span class="p">{</span><span class="o">&lt;</span><span class="nx">resolved</span><span class="o">&gt;:</span> <span class="p">{</span><span class="mi">_</span><span class="p">}}</span>
 <span class="p">[[</span><span class="nx">PromiseStatus</span><span class="p">]]</span><span class="o">:</span> <span class="s2">&#34;resolved&#34;</span>
 <span class="p">[[</span><span class="nx">PromiseValue</span><span class="p">]]</span><span class="o">:</span> <span class="nb">Object</span>
     <span class="nx">events</span><span class="o">:</span>
     <span class="nx">in_hand</span><span class="o">:</span>
     <span class="nx">meta</span><span class="o">:</span>
     <span class="mi">_</span><span class="nx">proto_</span><span class="o">:</span><span class="nb">Object</span>
</code></pre></div><p><code>need those imformation from promise to string</code></p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">fetch</span><span class="p">(</span><span class="s2">&#34;https://.....&#34;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div><p><code>now it print all the information.</code></p>
<p>done~~~!</p>
</div>
    <div class="post-footer">
        <div class="info">
            <span class="separator"><a class="category" href="/categories/js/">JS</a><a class="category" href="/categories/api/">API</a></span>
            <span class="separator"><a class="tag" href="/tags/api/">API</a></span>
        </div>
    </div>

    
</div>


        </div>
    </div>
</div>

<script type="text/javascript"
        src="/js/medium-zoom.min.83cb1dd5fea8d42d87d1e601a07faa73089ad0ef9ccfe5daf6041289ebcc4e46.js"
        integrity="sha256-g8sd1f6o1C2H0eYBoH&#43;qcwia0O&#43;cz&#43;Xa9gQSievMTkY="
        crossorigin="anonymous"></script></body>

</html>
